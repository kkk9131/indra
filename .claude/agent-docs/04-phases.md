# indra - フェーズ別開発計画

CLI と Web UI を**同時並行で開発**する計画。

## Phase 1: 基盤構築 ✅ 完了

### 成果物

- プロジェクト初期化（pnpm monorepo、TypeScript、Vitest）
- CLI基本構成（Commander）
- Gateway基盤（Hono + WebSocket）
- Web UI基盤（Vite + Lit）

---

## Phase 2: LLM統合 ✅ 完了

### 成果物

- Claude Agent SDK統合（サブスク認証、APIキー不要）
- ストリーミングレスポンス表示
- モデル選択: opus / sonnet / haiku

---

## Phase 3: SNS連携 + 承認フロー（進行中）

| CLI                         | Web UI                 | Core             |
| --------------------------- | ---------------------- | ---------------- |
| `indra post create`         | 投稿プレビュー画面     | X/noteコネクター |
| `indra post approve/reject` | 承認キュー、承認ボタン | 承認フロー管理   |

### 成果物

- X/noteへの投稿作成・承認フロー
- 投稿前プレビュー機能

---

## Phase 4: ニュース取得 + レポート生成

| CLI                  | Web UI               | Core                   |
| -------------------- | -------------------- | ---------------------- |
| `indra news fetch`   | ニュースフィード表示 | RSS/API/スクレイピング |
| `indra news report`  | レポートプレビュー   | 要約・レポート生成     |
| `indra news sources` | ソース管理画面       | ソース設定管理         |

### 成果物

- 複数ソースからのニュース取得
- AI要約・レポート生成
- ソース管理（追加/削除/優先度）

---

## Phase 5: Discord/GitHub連携

| CLI                   | Web UI             | Core                       |
| --------------------- | ------------------ | -------------------------- |
| `indra discord send`  | Discord通知設定    | Discord Bot                |
| `indra github notify` | GitHub連携設定     | GitHub App/Webhook         |
| -                     | 受信メッセージ表示 | コマンド受付・ルーティング |

### 成果物

- Discord双方向連携（通知＋コマンド受付）
- GitHub双方向連携（通知＋Webhook受付）
- 外部からIndraを操作可能

---

## Phase 6: 動画/画像生成

| CLI                     | Web UI           | Core                 |
| ----------------------- | ---------------- | -------------------- |
| `indra media video`     | 動画プレビュー   | Remotion統合         |
| `indra media image`     | 画像プレビュー   | 画像生成API連携      |
| `indra media templates` | テンプレート管理 | テンプレートシステム |

### 成果物

- Remotionによる動画生成
- 画像生成API連携
- テンプレートベースの生成

---

## Phase 7: ログ・分析

| CLI                | Web UI             | Core           |
| ------------------ | ------------------ | -------------- |
| `indra log search` | ログ検索画面       | ログ収集・保存 |
| `indra log stats`  | 統計ダッシュボード | 分析・集計     |
| `indra log report` | 分析レポート表示   | レポート生成   |

### 成果物

- 全操作・外部連携のログ記録
- 検索・フィルタ機能
- 統計ダッシュボード
- 定期レポート生成

---

## Phase 8: 足場計算・作図

| CLI                     | Web UI           | Core             |
| ----------------------- | ---------------- | ---------------- |
| `indra scaffold calc`   | 計算入力フォーム | 割付計算エンジン |
| `indra scaffold draw`   | 図面プレビュー   | DXF生成          |
| `indra scaffold import` | DXFインポート    | DXFパーサー      |

### 成果物

- 足場割付計算
- DXF図面生成・読込
- 計算結果の可視化

---

## Phase 9: スケジュール + ダッシュボード

| CLI                       | Web UI                         | Core                       |
| ------------------------- | ------------------------------ | -------------------------- |
| `indra schedule add/list` | スケジュールカレンダー         | cronベースのスケジューラー |
| `indra status`            | ダッシュボード（統計、グラフ） | メトリクス収集             |

### 成果物

- 予約投稿機能
- 全機能統合ダッシュボード

---

## Phase 10: マルチエージェント

| CLI                      | Web UI                     | Core                   |
| ------------------------ | -------------------------- | ---------------------- |
| エージェント管理コマンド | エージェント一覧、状態表示 | マルチエージェント協調 |
| サブエージェント実行     | フロー可視化               | タスク分散             |

### 成果物

- 複数エージェントの同時実行
- エージェント間のタスク分散

---

## 優先度の考え方

1. **Phase 1-2**: 基盤として必須 ✅
2. **Phase 3-4**: 主要ユースケース（SNS運用、ニュース/レポート）
3. **Phase 5-6**: 外部連携拡張（Discord/GitHub、メディア生成）
4. **Phase 7**: 横断機能（ログ・分析）
5. **Phase 8-10**: 専門機能・運用効率化

各フェーズは**独立してリリース可能**な単位。
