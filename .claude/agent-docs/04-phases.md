# indra - フェーズ別開発計画

CLI と Web UI を**同時並行で開発**する計画。

## Phase 1: 基盤 + UI同時構築

| 週       | CLI                               | Web UI                  | Gateway                        |
| -------- | --------------------------------- | ----------------------- | ------------------------------ |
| Week 1-2 | プロジェクト初期化、Commander設定 | Vite + Lit セットアップ | Hono + WebSocket基盤           |
| Week 3-4 | 基本コマンド (chat, config)       | 接続画面、チャットUI    | プロトコル実装、セッション管理 |

### 成果物

- `indra chat "こんにちは"` が動作
- Web UIからも同じチャットが可能
- CLIとWeb UIが同一Gatewayに接続

### タスク詳細

#### Week 1-2: プロジェクト初期化

- [ ] pnpm monorepo セットアップ
- [ ] TypeScript設定
- [ ] Vitest設定
- [ ] CLI: commander基本構成
- [ ] UI: Vite + Lit プロジェクト作成
- [ ] Gateway: Hono + ws 基本構成

#### Week 3-4: 基本機能

- [ ] CLI: `indra chat` コマンド
- [ ] CLI: `indra config` コマンド
- [ ] UI: 接続状態表示
- [ ] UI: チャット入力/表示
- [ ] Gateway: WebSocketプロトコル実装
- [ ] Gateway: セッション永続化

---

## Phase 2: LLM統合

| 週       | CLI                      | Web UI                       | Core                            |
| -------- | ------------------------ | ---------------------------- | ------------------------------- |
| Week 5-6 | プロバイダー切替コマンド | 設定画面（プロバイダー選択） | LLM抽象レイヤー                 |
| Week 7-8 | ストリーミング表示       | ストリーミング表示           | Claude/OpenAI/Gemini/Ollama対応 |

### 成果物

- 4つのLLMプロバイダーに対応
- ストリーミングレスポンス表示

---

## Phase 3: SNS連携 + 承認フロー

| 週         | CLI                         | Web UI                 | Core             |
| ---------- | --------------------------- | ---------------------- | ---------------- |
| Week 9-10  | `indra post create`         | 投稿プレビュー画面     | X/noteコネクター |
| Week 11-12 | `indra post approve/reject` | 承認キュー、承認ボタン | 承認フロー管理   |

### 成果物

- X/noteへの投稿作成・承認フロー
- 投稿前プレビュー機能

---

## Phase 4: スケジュール + ダッシュボード

| 週         | CLI                       | Web UI                         | Core                       |
| ---------- | ------------------------- | ------------------------------ | -------------------------- |
| Week 13-14 | `indra schedule add/list` | スケジュールカレンダー         | cronベースのスケジューラー |
| Week 15-16 | `indra status`            | ダッシュボード（統計、グラフ） | メトリクス収集             |

### 成果物

- 予約投稿機能
- 投稿統計ダッシュボード

---

## Phase 5: マルチエージェント

| 週         | CLI                      | Web UI                     | Core                   |
| ---------- | ------------------------ | -------------------------- | ---------------------- |
| Week 17-18 | エージェント管理コマンド | エージェント一覧、状態表示 | マルチエージェント協調 |
| Week 19-20 | サブエージェント実行     | フロー可視化               | タスク分散             |

### 成果物

- 複数エージェントの同時実行
- エージェント間のタスク分散

---

## 優先度の考え方

1. **Phase 1-2**: 基盤として必須
2. **Phase 3**: 主要ユースケース（SNS運用）の実現
3. **Phase 4-5**: 運用効率化、スケーラビリティ

各フェーズは**独立してリリース可能**な単位。
