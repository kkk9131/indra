# indra - UI設計

## 1. 全体レイアウト

```
┌────────────┬────────────────────────────────────────────────────────────┐
│            │                                                            │
│  indra     │                    Main Content                            │
│            │                                                            │
│ ┌────────┐ │  ┌──────────────────────────────────────────────────────┐ │
│ │ 🏠 Home│ │  │                                                      │ │
│ ├────────┤ │  │              (選択した画面が表示)                     │ │
│ │ ✅ 承認│ │  │                                                      │ │
│ ├────────┤ │  │                                                      │ │
│ │ 📅 予約│ │  └──────────────────────────────────────────────────────┘ │
│ ├────────┤ │                                                            │
│ │ 📊 履歴│ │                     ┌───────────────────────────────────┐ │
│ ├────────┤ │                     │      Chat (スライドイン)         │ │
│ │👤Account│ │                     │  ┌───────────────────────────┐  │ │
│ ├────────┤ │                     │  │ 👤 投稿を作って           │  │ │
│ │ ⚙️ 設定│ │                     │  │ 🤖 承知しました...        │  │ │
│ └────────┘ │                     │  └───────────────────────────┘  │ │
│            │                     │  [メッセージ入力...]    [送信]  │ │
│            │                     └───────────────────────────────────┘ │
├────────────┴────────────────────────────────────────────────────────────┤
│  🟢 Connected │ Claude │ 承認待ち: 3                                    │
└─────────────────────────────────────────────────────────────────────────┘
```

### レイアウト構成

| 要素         | 説明                               |
| ------------ | ---------------------------------- |
| Sidebar      | ロゴ + ナビゲーション（200px、白） |
| Main Content | 選択した画面のコンテンツ（薄い緑） |
| Chat Panel   | 右からスライドイン                 |
| Status Bar   | 接続状態、LLM、承認待ち数（白）    |

---

## 2. 画面一覧

| 画面        | アイコン | パス        | 説明                         |
| ----------- | -------- | ----------- | ---------------------------- |
| **Home**    | 🏠       | `/`         | ダッシュボード（デフォルト） |
| **承認**    | ✅       | `/approval` | 承認待ち投稿の詳細管理       |
| **予約**    | 📅       | `/schedule` | スケジュール投稿管理         |
| **履歴**    | 📊       | `/history`  | 過去の投稿一覧               |
| **Account** | 👤       | `/accounts` | SNSアカウント管理            |
| **設定**    | ⚙️       | `/settings` | LLM/API設定                  |

---

## 3. Home画面（ダッシュボード）

デフォルト画面。承認待ちリストと今日の予定を表示。

```
┌─────────────────────────────────────────────────────────────┐
│ Home                                          01/25 (土)    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  承認待ち (3)                                    [すべて見る →]
│  ─────────────────────────────────────────────────────────  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ X @tech_kazuto        「AIは創造性を...」    [承認▼] │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │ X @tech_kazuto        「週末イベント...」    [承認▼] │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │ note @kazuto          「AI時代の働き方」     [承認▼] │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  今日の予定 (2)                                  [すべて見る →]
│  ─────────────────────────────────────────────────────────  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🕐 18:00  X @tech_kazuto   「週末イベントの告知」    │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │ 🕐 21:00  X @tech_kazuto   「今日の振り返り」        │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### コンポーネント

- `PendingList`: 承認待ち投稿のサマリーリスト
- `TodaySchedule`: 今日のスケジュール投稿リスト
- `QuickApproveButton`: ドロップダウンで承認/編集/却下

---

## 4. 承認画面

（未定義）

---

## 5. 予約画面

（未定義）

---

## 6. 履歴画面

（未定義）

---

## 7. アカウント管理画面

（未定義）

---

## 8. 設定画面

タブ形式で設定項目を分類。

```
┌─────────────────────────────────────────────────────────────┐
│ 設定                                                        │
├─────────────────────────────────────────────────────────────┤
│ [LLM] [SNS連携] [Cron Jobs] [一般]                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                    （タブコンテンツ）                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 8.1 LLMタブ

```
┌─────────────────────────────────────────────────────────────┐
│ Claude Agent SDK                                            │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ [Bot Icon] Claude Agent SDK                         │    │
│ │            Using Claude subscription authentication │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ モデル                                                      │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ [Claude Sonnet (Recommended) ▼]                     │    │
│ │  - Claude Sonnet (Recommended)                      │    │
│ │  - Claude Opus                                      │    │
│ │  - Claude Haiku                                     │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ システムプロンプト                                           │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ You are a helpful assistant...                      │    │
│ │                                                     │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│                            [保存] [接続テスト]              │
└─────────────────────────────────────────────────────────────┘
```

**注意**: Claude Agent SDKはサブスクリプション認証を使用。APIキー不要。

### 8.2 SNS連携タブ

```
┌─────────────────────────────────────────────────────────────┐
│ 登録済みアカウント                        [+ アカウント追加] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ [X]  @tech_kazuto                                   │    │
│ │      Tech & AI についてのアカウント                 │    │
│ │      認証: ✅ Cookie取得済み                        │    │
│ │      投稿数: 45件 │ 最終投稿: 01/24 15:30           │    │
│ │                                      [設定] [削除]  │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ [note] @kazuto                                      │    │
│ │        長文記事用アカウント                         │    │
│ │        認証: ⚠️ 要再認証（セッション期限切れ）       │    │
│ │        投稿数: 12件 │ 最終投稿: 01/23 09:00         │    │
│ │                                      [設定] [削除]  │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ ─────────────────────────────────────────────────────────  │
│ アカウントがない場合は [+ アカウント追加] から登録してください │
└─────────────────────────────────────────────────────────────┘
```

#### アカウント追加モーダル

```
┌───────────────────────────────────────────┐
│ アカウント追加                        [×] │
├───────────────────────────────────────────┤
│                                           │
│ プラットフォーム                          │
│ ┌───────────────────────────────────────┐ │
│ │ [X]  X (Twitter)                      │ │
│ │ [note] note                           │ │
│ └───────────────────────────────────────┘ │
│                                           │
│ アカウント名                              │
│ [@ username                            ]  │
│                                           │
│ 表示名（任意）                            │
│ [ 表示名を入力                         ]  │
│                                           │
│ 認証方式: ブラウザCookie取得              │
│ ┌───────────────────────────────────────┐ │
│ │  [🌐 ブラウザでログイン]              │ │
│ │                                       │ │
│ │  ブラウザが開きます。                 │ │
│ │  ログイン後、Cookieを自動取得します。 │ │
│ │                                       │ │
│ │  X: auth_token, ct0                   │ │
│ │  note: セッションCookie               │ │
│ └───────────────────────────────────────┘ │
│                                           │
│              [キャンセル] [ログイン開始]  │
└───────────────────────────────────────────┘
```

### 8.3 Cron Jobsタブ

```
┌─────────────────────────────────────────────────────────────┐
│ スケジュールジョブ                            [+ 新規作成]  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ ● 朝のニュースまとめ                                │    │
│ │   🕐 毎日 07:00 (JST)                               │    │
│ │   → X @tech_kazuto に投稿                           │    │
│ │   次回実行: 01/26 07:00                             │    │
│ │                           [編集] [実行] [無効化]    │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ ○ 週間振り返り                          [無効]      │    │
│ │   🕐 毎週日曜 21:00 (JST)                           │    │
│ │   → note @kazuto に投稿                             │    │
│ │   最終実行: 01/19 21:00                             │    │
│ │                           [編集] [実行] [有効化]    │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### ジョブ作成モーダル

```
┌───────────────────────────────────────────┐
│ Cronジョブ作成                        [×] │
├───────────────────────────────────────────┤
│                                           │
│ ジョブ名                                  │
│ [ 朝のニュースまとめ                   ]  │
│                                           │
│ スケジュール種別                          │
│ ○ Cron式  ● 間隔  ○ 単発                 │
│                                           │
│ ─── Cron式 選択時 ───────────────────────  │
│ Cron式: [ 0 7 * * *                    ]  │
│ (分 時 日 月 曜日)                        │
│ タイムゾーン: [Asia/Tokyo ▼]              │
│                                           │
│ ─── 間隔 選択時 ─────────────────────────  │
│ 間隔: [4] [時間 ▼]                        │
│                                           │
│ ─── 単発 選択時 ─────────────────────────  │
│ 実行日時: [2025-01-26] [18:00]            │
│ □ 実行後に削除                            │
│                                           │
│ ───────────────────────────────────────── │
│                                           │
│ 実行内容                                  │
│ プロンプト:                               │
│ ┌───────────────────────────────────────┐ │
│ │ 今日のAI/テック関連ニュースを3つ      │ │
│ │ ピックアップして、Xに投稿する形式で   │ │
│ │ まとめてください。                    │ │
│ └───────────────────────────────────────┘ │
│                                           │
│ 投稿先                                    │
│ アカウント: [X @tech_kazuto ▼]            │
│                                           │
│ □ 自動承認（承認フローをスキップ）        │
│                                           │
│                   [キャンセル] [作成]     │
└───────────────────────────────────────────┘
```

### 8.4 一般タブ

```
┌─────────────────────────────────────────────────────────────┐
│ テーマ                                                      │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ ○ ライト  ● ダーク  ○ システム                      │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ Gateway                                                     │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ ポート: [18789]                                     │    │
│ │ 状態: 🟢 接続中                                     │    │
│ │                                          [再起動]   │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ データ管理                                                  │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ 保存場所: ~/.indra/                                 │    │
│ │                                                     │    │
│ │ [設定エクスポート]  [設定インポート]                │    │
│ │                                                     │    │
│ │ [キャッシュクリア]  使用量: 12.5 MB                 │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ バージョン情報                                              │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ indra v0.1.0                                        │    │
│ │ Gateway v0.1.0                                      │    │
│ │ Node.js v22.0.0                                     │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 9. チャットパネル

（未定義）

---

## 10. カラーパレット

薄い緑 + ダークグレーの組み合わせ（ライトモード）

| 変数               | 値        | 用途                           |
| ------------------ | --------- | ------------------------------ |
| `--bg-primary`     | `#E8F5E9` | メイン背景（薄い緑）           |
| `--bg-secondary`   | `#FFFFFF` | サイドバー、カード（白）       |
| `--bg-tertiary`    | `#F5F5F5` | ホバー、アクティブ             |
| `--primary`        | `#2E7D32` | アクション、リンク（緑）       |
| `--success`        | `#2E7D32` | 承認、成功                     |
| `--warning`        | `#F39C12` | 予約、注意                     |
| `--danger`         | `#E74C3C` | 却下、削除                     |
| `--text-primary`   | `#2D3436` | メインテキスト（ダークグレー） |
| `--text-secondary` | `#636E72` | 補助テキスト（グレー）         |
| `--border`         | `#E0E0E0` | ボーダー                       |

---

## 12. コンポーネント一覧

### レイアウト

- `AppShell`: 全体レイアウト
- `Sidebar`: ナビゲーションサイドバー
- `Header`: ヘッダーバー
- `StatusBar`: ステータスバー

### 共通

- `Button`: ボタン（primary, secondary, danger）
- `Card`: カードコンテナ
- `Modal`: モーダルダイアログ
- `SlidePanel`: スライドインパネル
- `Dropdown`: ドロップダウンメニュー

### 機能別

- `ChatPanel`: チャットスライドイン
- `MessageList`: メッセージ一覧
- `MessageInput`: メッセージ入力
- `PostPreview`: 投稿プレビューカード
- `ApprovalActions`: 承認/編集/却下ボタン
- `PendingList`: 承認待ちリスト
- `ScheduleCalendar`: カレンダー
- `AccountCard`: アカウントカード
- `SettingsForm`: 設定フォーム
